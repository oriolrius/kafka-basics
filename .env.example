# ==============================================================================
# QUICKSTART - Local Testing (No Auth, No SSL)
# ==============================================================================
# Use these settings with docker-compose.yml for easy local testing:
#
# KAFKA_BROKER=localhost:55092
# KAFKA_BROKERS=localhost:55092
# KAFKA_CLIENT_ID=kafka-basics-client
# KAFKA_USE_TLS=false
# KAFKA_SASL_MECHANISM=
# KAFKA_USERNAME=
# KAFKA_PASSWORD=
#
# Then run: docker compose up -d

# ==============================================================================
# Kafka Broker Configuration
# ==============================================================================
# For local testing with docker-compose.yml (PLAINTEXT - no auth):
KAFKA_BROKER=localhost:55092
KAFKA_BROKERS=localhost:55092
KAFKA_CLIENT_ID=kafka-basics-client

# For production with OAuth2 (port 55093):
# KAFKA_BROKER=localhost:55093
# KAFKA_BROKERS=localhost:55093

# TLS Configuration
KAFKA_USE_TLS=false
# Set to 'false' to ignore self-signed certificate issues (when using TLS)
KAFKA_REJECT_UNAUTHORIZED=false

# Authentication Configuration - LEAVE EMPTY FOR NO AUTH
KAFKA_SASL_MECHANISM=
KAFKA_USERNAME=
KAFKA_PASSWORD=

# Message Configuration
KAFKA_TOPIC=test-avro-topic

# Schema Registry Configuration
SCHEMA_REGISTRY_URL=http://localhost:8081
SCHEMA_REGISTRY_USE_TLS=false
# Schema Registry Authentication (optional)
SCHEMA_REGISTRY_USERNAME=
SCHEMA_REGISTRY_PASSWORD=

# Avro Schema Configuration
AVRO_SCHEMA_SUBJECT=test-message-value
# Message content
AVRO_MESSAGE_ID=test-msg-001
AVRO_MESSAGE_CONTENT=Hello from Avro producer! This is a test message.
AVRO_MESSAGE_METADATA=test-metadata

# ==============================================================================
# OAuth2 / OAUTHBEARER Configuration
# ==============================================================================
# Enable this section when using SASL_SSL with oauthbearer mechanism
# Required for docker-compose-oauth.yml setup

# OAuth2 enabled (set to 'true' to use OAuth2)
OAUTH_ENABLED=false

# OAuth2 Token Endpoint (Keycloak)
# Note: Add to /etc/hosts: 127.0.0.1 kafka-basics-keycloak
OAUTH_TOKEN_ENDPOINT_URI=https://kafka-basics-keycloak:55443/realms/kafka-basics/protocol/openid-connect/token

# OAuth2 JWKS Endpoint for token validation
OAUTH_JWKS_ENDPOINT_URI=https://kafka-basics-keycloak:55443/realms/kafka-basics/protocol/openid-connect/certs

# OAuth2 Client Credentials
# Options: kafka-producer-client, kafka-consumer-client, kafka-broker
OAUTH_CLIENT_ID=kafka-producer-client
OAUTH_CLIENT_SECRET=kafka-producer-client-secret

# OAuth2 Client Scope (optional, usually not needed for Kafka)
OAUTH_SCOPE=

# OAuth2 SSL/TLS Configuration
OAUTH_SSL_CA_LOCATION=./oauth2/certificates/ca.crt
OAUTH_SSL_REJECT_UNAUTHORIZED=false

# Token expiry buffer (in seconds, tokens will be refreshed this many seconds before expiry)
OAUTH_TOKEN_EXPIRY_BUFFER=60

# ==============================================================================
# OAuth2 Example Configuration
# ==============================================================================
# To use OAuth2 with docker-compose.yml (port 55093), use these settings:
#
# KAFKA_BROKER=localhost:55093
# KAFKA_BROKERS=localhost:55093
# KAFKA_SSL_CA_LOCATION=./oauth2/certificates/ca.crt
# KAFKA_USE_TLS=true
# KAFKA_REJECT_UNAUTHORIZED=false
# KAFKA_SASL_MECHANISM=oauthbearer
# OAUTH_ENABLED=true
# OAUTH_CLIENT_ID=kafka-producer-client
# OAUTH_CLIENT_SECRET=kafka-producer-client-secret
#
# IMPORTANT: Add to /etc/hosts:
# 127.0.0.1 kafka-basics-keycloak kafka-basics
#
# Pre-configured service accounts in Keycloak:
# - kafka-broker / kafka-broker-secret (inter-broker communication)
# - kafka-producer-client / kafka-producer-client-secret (producers)
# - kafka-consumer-client / kafka-consumer-client-secret (consumers)
#
# For complete setup guide, see: OAUTH2_SETUP.md